(()=>{"use strict";document.addEventListener("DOMContentLoaded",(async()=>{console.log("main.js loaded, checking images..."),document.querySelectorAll("img").forEach((e=>{console.log(`Image: ${e.src}, Alt: ${e.alt}`),e.complete&&0!==e.naturalWidth||console.error(`Failed to load image: ${e.src}`)}));const e=localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null,t=document.getElementById("btn-login"),n=document.getElementById("btn-register"),a=document.getElementById("btn-logout");e?(t?.classList.add("d-none"),n?.classList.add("d-none"),a?.classList.remove("d-none")):(t?.classList.remove("d-none"),n?.classList.remove("d-none"),a?.classList.add("d-none"));try{await void 0}catch(e){console.error("Failed to initialize animations:",e)}[{id:"card-question",url:"checkin.html",title:"Kuesioner Stres"},{id:"card-journaling",url:"journaling.html",title:"Journaling"},{id:"card-analysis",url:"results.html",title:"Hasil Analisis"},{id:"card-rekomendasi",url:"recommendations.html",title:"Rekomendasi"}].forEach((({id:e,url:t,title:n})=>{const a=document.getElementById(e);a?(a.style.cursor="pointer",a.addEventListener("click",(e=>{e.preventDefault(),console.log(`Navigating to ${n} (${t})`),a.style.opacity="0.7";try{window.location.href=t}catch(e){console.error(`Failed to navigate to ${t}:`,e),a.style.opacity="1",alert(`Gagal membuka halaman ${n}. Silakan coba lagi.`)}})),a.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a.click())})),a.addEventListener("mouseenter",(()=>{a.style.transform="translateY(-5px) scale(1.02)",a.style.transition="all 0.3s ease"})),a.addEventListener("mouseleave",(()=>{a.style.transform="translateY(0) scale(1)"})),a.setAttribute("tabindex","0"),a.setAttribute("role","button"),a.setAttribute("aria-label",`Navigasi ke ${n}`),console.log(`Card ${e} click handler initialized`)):console.warn(`Card with ID ${e} not found in DOM`)})),document.querySelectorAll(".card").forEach((e=>{e.style.cursor||(e.style.cursor="pointer")})),console.log("All card navigation handlers initialized successfully")})),window.addEventListener("error",(e=>{e.filename&&e.filename.includes("main.js")&&console.error("Error in main.js:",e.error)}))})();