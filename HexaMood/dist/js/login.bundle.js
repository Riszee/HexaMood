(()=>{"use strict";window.handleLogin=function(){const e=document.getElementById("email").value.trim(),t=document.getElementById("password").value;if(e&&t)if(function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(e))try{const a=(JSON.parse(localStorage.getItem("users"))||[]).find((a=>a.email===e&&a.password===t));a?(localStorage.setItem("currentUser",JSON.stringify(a)),localStorage.setItem("token","dummy-token-"+Date.now()),localStorage.setItem("isLoggedIn","true"),alert(`Selamat datang, ${a.name}!`),window.location.href="index.html"):alert("Email atau kata sandi salah. Silakan coba lagi.")}catch(e){console.error("Error during login:",e),alert("Terjadi kesalahan saat login. Silakan coba lagi.")}else alert("Format email tidak valid!");else alert("Mohon isi semua kolom!")},window.handleLogout=function(){try{localStorage.removeItem("currentUser"),localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),alert("Anda telah keluar dari akun."),window.location.href="index.html"}catch(e){console.error("Error during logout:",e),alert("Terjadi kesalahan saat logout.")}},document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("login-form");e&&e.addEventListener("submit",(function(e){e.preventDefault(),handleLogin()}))}))})();